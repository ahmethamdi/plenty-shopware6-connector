{"version":3,"file":"plenty-connector-plugin-6Ns2Mc3D.js","sources":["../../../app/administration/src/module/plenty-connector-utility/page/plenty-connector-utility-index/plenty-connector-utility-index.html.twig","../../../app/administration/src/module/plenty-connector-utility/page/plenty-connector-utility-index/index.js","../../../app/administration/src/module/plenty-connector-utility/index.js","../../../app/administration/src/module/plenty-package/page/plenty-package-list/plenty-package-list.html.twig","../../../app/administration/src/module/plenty-package/page/plenty-package-list/index.js","../../../app/administration/src/module/plenty-package/page/plenty-package-detail/plenty-package-detail.html.twig","../../../app/administration/src/module/plenty-package/page/plenty-package-detail/index.js","../../../app/administration/src/module/plenty-package/index.js","../../../app/administration/src/module/plenty-token-market/page/plenty-token-product-list/plenty-token-product-list.html.twig","../../../app/administration/src/module/plenty-token-market/page/plenty-token-product-list/index.js","../../../app/administration/src/module/plenty-token-market/page/plenty-token-product-detail/plenty-token-product-detail.html.twig","../../../app/administration/src/module/plenty-token-market/page/plenty-token-product-detail/index.js","../../../app/administration/src/module/plenty-token-market/page/plenty-token-order-list/plenty-token-order-list.html.twig","../../../app/administration/src/module/plenty-token-market/page/plenty-token-order-list/index.js","../../../app/administration/src/module/plenty-token-market/index.js"],"sourcesContent":["<sw-page class=\"plenty-utility-page\">\n    <template #smart-bar-header>\n        <h2>{{ $tc('plenty-connector-utility.general.headline') }}</h2>\n    </template>\n\n    <template #content>\n        <div class=\"plenty-utility-card\">\n            <sw-card :title=\"$tc('plenty-connector-utility.cards.actions')\">\n                <div class=\"plenty-utility-actions\">\n                    <sw-button :loading=\"isClearing\"\n                               variant=\"primary\"\n                               @click=\"clearCache\">\n                        {{ $tc('plenty-connector-utility.buttons.clearCache') }}\n                    </sw-button>\n\n                    <sw-button :loading=\"isSyncing\"\n                               variant=\"ghost\"\n                               @click=\"syncProducts\">\n                        {{ $tc('plenty-connector-utility.buttons.syncProducts') }}\n                    </sw-button>\n                </div>\n                <div v-if=\"lastMessage\" class=\"plenty-utility-message\">\n                    {{ lastMessage }}\n                </div>\n            </sw-card>\n        </div>\n    </template>\n</sw-page>\n","import template from './plenty-connector-utility-index.html.twig';\n\nconst { Component } = Shopware;\n\nComponent.register('plenty-connector-utility-index', {\n    template,\n\n    data() {\n        return {\n            isClearing: false,\n            isSyncing: false,\n            lastMessage: null,\n        };\n    },\n\n    methods: {\n        async clearCache() {\n            this.isClearing = true;\n            this.lastMessage = null;\n            try {\n                await this.$http.post('/api/_action/plenty/cache-clear');\n                this.lastMessage = this.$tc('plenty-connector-utility.messages.cacheCleared');\n            } catch (e) {\n                this.lastMessage = (e?.response?.data?.errors?.[0]?.detail) || this.$tc('plenty-connector-utility.messages.cacheFailed');\n            } finally {\n                this.isClearing = false;\n            }\n        },\n\n        async syncProducts() {\n            this.isSyncing = true;\n            this.lastMessage = null;\n            try {\n                await this.$http.post('/api/_action/plenty/sync-products');\n                this.lastMessage = this.$tc('plenty-connector-utility.messages.syncTriggered');\n            } catch (e) {\n                this.lastMessage = (e?.response?.data?.errors?.[0]?.detail) || this.$tc('plenty-connector-utility.messages.syncFailed');\n            } finally {\n                this.isSyncing = false;\n            }\n        },\n    },\n});\n","import './page/plenty-connector-utility-index';\n\nconst { Module } = Shopware;\n\nModule.register('plenty-connector-utility', {\n    type: 'plugin',\n    name: 'plenty-connector-utility',\n    title: 'plenty-connector-utility.general.mainMenuItemGeneral',\n    description: 'Utility actions for Plentymarkets connector',\n    color: '#0e71ba',\n\n    routes: {\n        index: {\n            component: 'plenty-connector-utility-index',\n            path: 'index',\n            meta: {\n                parentPath: 'sw.settings.index',\n            },\n        },\n    },\n\n    settingsItem: [\n        {\n            group: 'plugins',\n            to: 'plenty.connector.utility.index',\n            label: 'plenty-connector-utility.general.mainMenuItemGeneral',\n        },\n    ],\n});\n","<sw-page class=\"plenty-package-list\">\n    <template #smart-bar-header>\n        <h2>{{ $tc('plenty-package.list.textTitle') }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button :routerLink=\"{ name: 'plenty.package.create' }\" variant=\"primary\">\n            {{ $tc('plenty-package.list.buttonAddPackage') }}\n        </sw-button>\n    </template>\n\n    <template #content>\n        <sw-entity-listing\n            :repository=\"packageRepository\"\n            :items=\"packages\"\n            :columns=\"columns\"\n            :isLoading=\"isLoading\"\n            detailRoute=\"plenty.package.detail\"\n            @update-records=\"getList\">\n        </sw-entity-listing>\n    </template>\n</sw-page>\n","import template from './plenty-package-list.html.twig';\n\nconst { Component, Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\nComponent.register('plenty-package-list', {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('listing'),\n    ],\n\n    data() {\n        return {\n            packages: null,\n            isLoading: false,\n            total: 0,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        packageRepository() {\n            return this.repositoryFactory.create('plenty_package');\n        },\n\n        columns() {\n            return [\n                {\n                    property: 'name',\n                    dataIndex: 'name',\n                    label: this.$tc('plenty-package.list.columnName'),\n                    routerLink: 'plenty.package.detail',\n                    inlineEdit: 'string',\n                    allowResize: true,\n                    primary: true,\n                },\n                {\n                    property: 'targetAmount',\n                    dataIndex: 'targetAmount',\n                    label: this.$tc('plenty-package.list.columnTargetAmount'),\n                    inlineEdit: 'number',\n                    allowResize: true,\n                },\n                {\n                    property: 'tokenReward',\n                    dataIndex: 'tokenReward',\n                    label: this.$tc('plenty-package.list.columnTokenReward'),\n                    inlineEdit: 'number',\n                    allowResize: true,\n                },\n                {\n                    property: 'active',\n                    dataIndex: 'active',\n                    label: this.$tc('plenty-package.list.columnActive'),\n                    inlineEdit: 'boolean',\n                    allowResize: true,\n                },\n            ];\n        },\n    },\n\n    created() {\n        this.getList();\n    },\n\n    methods: {\n        getList() {\n            this.isLoading = true;\n\n            const criteria = new Criteria(this.page, this.limit);\n\n            return this.packageRepository.search(criteria, Shopware.Context.api)\n                .then((result) => {\n                    this.packages = result;\n                    this.total = result.total;\n                    this.isLoading = false;\n                    return result;\n                })\n                .catch((error) => {\n                    console.error('Error loading packages:', error);\n                    this.isLoading = false;\n                    this.packages = [];\n                    this.total = 0;\n                });\n        },\n\n        onChangeLanguage() {\n            this.getList();\n        },\n    },\n});\n","<sw-page class=\"plenty-package-detail\">\n    <template #smart-bar-header>\n        <h2 v-if=\"isCreateMode\">{{ $tc('plenty-package.detail.textCreateTitle') }}</h2>\n        <h2 v-else>{{ package.name }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button :disabled=\"isLoading\" @click=\"onCancel\">\n            {{ $tc('plenty-package.detail.buttonCancel') }}\n        </sw-button>\n        <sw-button-process\n            :isLoading=\"isLoading\"\n            :processSuccess=\"isSaveSuccessful\"\n            variant=\"primary\"\n            @click=\"onSave\">\n            {{ $tc('plenty-package.detail.buttonSave') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-card :title=\"$tc('plenty-package.detail.cardTitleBasic')\" :isLoading=\"isLoading\">\n                <sw-container columns=\"repeat(auto-fit, minmax(250px, 1fr))\" gap=\"0px 30px\">\n                    <sw-text-field\n                        v-model=\"package.name\"\n                        :label=\"$tc('plenty-package.detail.labelName')\"\n                        :placeholder=\"$tc('plenty-package.detail.placeholderName')\"\n                        :error=\"packageNameError\"\n                        required>\n                    </sw-text-field>\n\n                    <sw-switch-field\n                        v-model=\"package.active\"\n                        :label=\"$tc('plenty-package.detail.labelActive')\">\n                    </sw-switch-field>\n                </sw-container>\n\n                <sw-container columns=\"repeat(auto-fit, minmax(250px, 1fr))\" gap=\"0px 30px\">\n                    <sw-number-field\n                        v-model=\"package.targetAmount\"\n                        :label=\"$tc('plenty-package.detail.labelTargetAmount')\"\n                        :placeholder=\"$tc('plenty-package.detail.placeholderTargetAmount')\"\n                        :error=\"packageTargetAmountError\"\n                        numberType=\"float\"\n                        :step=\"0.01\"\n                        required>\n                    </sw-number-field>\n\n                    <sw-number-field\n                        v-model=\"package.tokenReward\"\n                        :label=\"$tc('plenty-package.detail.labelTokenReward')\"\n                        :placeholder=\"$tc('plenty-package.detail.placeholderTokenReward')\"\n                        :error=\"packageTokenRewardError\"\n                        numberType=\"int\"\n                        required>\n                    </sw-number-field>\n                </sw-container>\n            </sw-card>\n\n            <sw-card :title=\"$tc('plenty-package.detail.cardTitleCategories')\" :isLoading=\"isLoading\">\n                <sw-entity-multi-id-select\n                    v-model=\"package.categoryIds\"\n                    :label=\"$tc('plenty-package.detail.labelCategories')\"\n                    :placeholder=\"$tc('plenty-package.detail.placeholderCategories')\"\n                    :repository=\"categoryRepository\">\n                </sw-entity-multi-id-select>\n            </sw-card>\n\n            <sw-card :title=\"$tc('plenty-package.detail.cardTitleVisibility')\" :isLoading=\"isLoading\">\n                <sw-select-field\n                    v-model=\"package.visibilityType\"\n                    :label=\"$tc('plenty-package.detail.labelVisibilityType')\"\n                    :options=\"[\n                        { value: 'all', label: $tc('plenty-package.detail.visibilityAll') },\n                        { value: 'whitelist', label: $tc('plenty-package.detail.visibilityWhitelist') },\n                        { value: 'blacklist', label: $tc('plenty-package.detail.visibilityBlacklist') }\n                    ]\">\n                </sw-select-field>\n\n                <sw-entity-multi-id-select\n                    v-if=\"package.visibilityType === 'whitelist'\"\n                    v-model=\"package.allowedCustomerIds\"\n                    :label=\"$tc('plenty-package.detail.labelAllowedCustomers')\"\n                    :placeholder=\"$tc('plenty-package.detail.placeholderAllowedCustomers')\"\n                    :repository=\"customerRepository\">\n                </sw-entity-multi-id-select>\n\n                <sw-entity-multi-id-select\n                    v-if=\"package.visibilityType === 'blacklist'\"\n                    v-model=\"package.excludedCustomerIds\"\n                    :label=\"$tc('plenty-package.detail.labelExcludedCustomers')\"\n                    :placeholder=\"$tc('plenty-package.detail.placeholderExcludedCustomers')\"\n                    :repository=\"customerRepository\">\n                </sw-entity-multi-id-select>\n            </sw-card>\n        </sw-card-view>\n    </template>\n</sw-page>\n","import template from './plenty-package-detail.html.twig';\n\nconst { Component, Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\nconst { mapPropertyErrors } = Shopware.Component.getComponentHelper();\n\nComponent.register('plenty-package-detail', {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            package: null,\n            isLoading: false,\n            isSaveSuccessful: false,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        packageRepository() {\n            return this.repositoryFactory.create('plenty_package');\n        },\n\n        categoryRepository() {\n            return this.repositoryFactory.create('category');\n        },\n\n        customerRepository() {\n            return this.repositoryFactory.create('customer');\n        },\n\n        ...mapPropertyErrors('package', [\n            'name',\n            'targetAmount',\n            'tokenReward',\n        ]),\n\n        isCreateMode() {\n            return this.$route.name === 'plenty.package.create';\n        },\n    },\n\n    created() {\n        this.loadEntityData();\n    },\n\n    methods: {\n        loadEntityData() {\n            this.isLoading = true;\n\n            if (this.isCreateMode) {\n                this.package = this.packageRepository.create();\n                this.package.active = true;\n                this.package.visibilityType = 'all';\n                this.package.categoryIds = [];\n                this.package.allowedCustomerIds = [];\n                this.package.excludedCustomerIds = [];\n                this.isLoading = false;\n                return;\n            }\n\n            const criteria = new Criteria();\n\n            this.packageRepository.get(this.$route.params.id, Shopware.Context.api, criteria)\n                .then((entity) => {\n                    this.package = entity;\n                    this.isLoading = false;\n                });\n        },\n\n        onSave() {\n            this.isLoading = true;\n\n            // In create mode, drop any preset id to avoid DAL thinking it's an update\n            if (this.isCreateMode && this.package && this.package.id) {\n                delete this.package.id;\n            }\n\n            return this.packageRepository.save(this.package, Shopware.Context.api)\n                .then(() => {\n                    this.isLoading = false;\n                    this.isSaveSuccessful = true;\n                    this.$router.push({ name: 'plenty.package.detail', params: { id: this.package.id } });\n                })\n                .catch(() => {\n                    this.isLoading = false;\n                    this.createNotificationError({\n                        message: this.$tc('plenty-package.detail.errorMessage'),\n                    });\n                });\n        },\n\n        onCancel() {\n            this.$router.push({ name: 'plenty.package.list' });\n        },\n    },\n});\n","import './page/plenty-package-list';\nimport './page/plenty-package-detail';\n\nconst { Module } = Shopware;\n\nModule.register('plenty-package', {\n    type: 'plugin',\n    name: 'plenty-package',\n    title: 'plenty-package.general.mainMenuItemGeneral',\n    description: 'Manage customer reward packages',\n    color: '#ff3d58',\n\n    routes: {\n        list: {\n            component: 'plenty-package-list',\n            path: 'list',\n            meta: {\n                parentPath: 'sw.settings.index',\n            },\n        },\n        detail: {\n            component: 'plenty-package-detail',\n            path: 'detail/:id',\n            meta: {\n                parentPath: 'plenty.package.list',\n            },\n        },\n        create: {\n            component: 'plenty-package-detail',\n            path: 'create',\n            meta: {\n                parentPath: 'plenty.package.list',\n            },\n        },\n    },\n\n    settingsItem: [\n        {\n            group: 'plugins',\n            to: 'plenty.package.list',\n            icon: 'default-shopping-paper-bag-product',\n            label: 'plenty-package.general.mainMenuItemGeneral',\n        },\n    ],\n});\n","<sw-page class=\"plenty-token-product-list\">\n    <template #smart-bar-header>\n        <h2>{{ $tc('plenty-token-market.productList.textTitle') }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button :routerLink=\"{ name: 'plenty.token.market.product-create' }\" variant=\"primary\">\n            {{ $tc('plenty-token-market.productList.buttonAddProduct') }}\n        </sw-button>\n    </template>\n\n    <template #content>\n        <sw-entity-listing\n            :repository=\"productRepository\"\n            :items=\"products\"\n            :columns=\"columns\"\n            :isLoading=\"isLoading\"\n            detailRoute=\"plenty.token.market.product-detail\"\n            @update-records=\"getList\">\n        </sw-entity-listing>\n    </template>\n</sw-page>\n","import template from './plenty-token-product-list.html.twig';\n\nconst { Component, Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\nComponent.register('plenty-token-product-list', {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('listing'),\n    ],\n\n    data() {\n        return {\n            products: null,\n            isLoading: false,\n            total: 0,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        productRepository() {\n            return this.repositoryFactory.create('plenty_token_product');\n        },\n\n        columns() {\n            return [\n                {\n                    property: 'name',\n                    dataIndex: 'name',\n                    label: this.$tc('plenty-token-market.productList.columnName'),\n                    routerLink: 'plenty.token.market.product-detail',\n                    inlineEdit: 'string',\n                    allowResize: true,\n                    primary: true,\n                },\n                {\n                    property: 'tokenPrice',\n                    dataIndex: 'tokenPrice',\n                    label: this.$tc('plenty-token-market.productList.columnTokenPrice'),\n                    inlineEdit: 'number',\n                    allowResize: true,\n                },\n                {\n                    property: 'stock',\n                    dataIndex: 'stock',\n                    label: this.$tc('plenty-token-market.productList.columnStock'),\n                    inlineEdit: 'number',\n                    allowResize: true,\n                },\n                {\n                    property: 'active',\n                    dataIndex: 'active',\n                    label: this.$tc('plenty-token-market.productList.columnActive'),\n                    inlineEdit: 'boolean',\n                    allowResize: true,\n                },\n            ];\n        },\n    },\n\n    created() {\n        this.getList();\n    },\n\n    methods: {\n        getList() {\n            this.isLoading = true;\n\n            const criteria = new Criteria(this.page, this.limit);\n            criteria.addSorting(Criteria.sort('createdAt', 'DESC'));\n\n            return this.productRepository.search(criteria, Shopware.Context.api).then((result) => {\n                this.products = result;\n                this.total = result.total;\n                this.isLoading = false;\n            });\n        },\n\n        onChangeLanguage() {\n            this.getList();\n        },\n    },\n});\n","<sw-page class=\"plenty-token-product-detail\">\n    <template #smart-bar-header>\n        <h2 v-if=\"isCreateMode\">{{ $tc('plenty-token-market.productDetail.textCreateTitle') }}</h2>\n        <h2 v-else>{{ product.name }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button :disabled=\"isLoading\" @click=\"onCancel\">\n            {{ $tc('plenty-token-market.productDetail.buttonCancel') }}\n        </sw-button>\n        <sw-button-process\n            :isLoading=\"isLoading\"\n            :processSuccess=\"isSaveSuccessful\"\n            variant=\"primary\"\n            @click=\"onSave\">\n            {{ $tc('plenty-token-market.productDetail.buttonSave') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-card :title=\"$tc('plenty-token-market.productDetail.cardTitleBasic')\" :isLoading=\"isLoading\">\n                <sw-container columns=\"repeat(auto-fit, minmax(250px, 1fr))\" gap=\"0px 30px\">\n                    <sw-text-field\n                        v-model=\"product.name\"\n                        :label=\"$tc('plenty-token-market.productDetail.labelName')\"\n                        :placeholder=\"$tc('plenty-token-market.productDetail.placeholderName')\"\n                        :error=\"productNameError\"\n                        required>\n                    </sw-text-field>\n\n                    <sw-switch-field\n                        v-model=\"product.active\"\n                        :label=\"$tc('plenty-token-market.productDetail.labelActive')\">\n                    </sw-switch-field>\n                </sw-container>\n\n                <sw-textarea-field\n                    v-model=\"product.description\"\n                    :label=\"$tc('plenty-token-market.productDetail.labelDescription')\"\n                    :placeholder=\"$tc('plenty-token-market.productDetail.placeholderDescription')\">\n                </sw-textarea-field>\n\n                <sw-container columns=\"repeat(auto-fit, minmax(250px, 1fr))\" gap=\"0px 30px\">\n                    <sw-number-field\n                        v-model=\"product.tokenPrice\"\n                        :label=\"$tc('plenty-token-market.productDetail.labelTokenPrice')\"\n                        :placeholder=\"$tc('plenty-token-market.productDetail.placeholderTokenPrice')\"\n                        :error=\"productTokenPriceError\"\n                        numberType=\"int\"\n                        required>\n                    </sw-number-field>\n\n                    <sw-number-field\n                        v-model=\"product.stock\"\n                        :label=\"$tc('plenty-token-market.productDetail.labelStock')\"\n                        :placeholder=\"$tc('plenty-token-market.productDetail.placeholderStock')\"\n                        numberType=\"int\">\n                    </sw-number-field>\n                </sw-container>\n\n                <sw-text-field\n                    v-model=\"product.imageUrl\"\n                    :label=\"$tc('plenty-token-market.productDetail.labelImageUrl')\"\n                    :placeholder=\"$tc('plenty-token-market.productDetail.placeholderImageUrl')\">\n                </sw-text-field>\n            </sw-card>\n        </sw-card-view>\n    </template>\n</sw-page>\n","import template from './plenty-token-product-detail.html.twig';\n\nconst { Component, Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\nconst { mapPropertyErrors } = Shopware.Component.getComponentHelper();\n\nComponent.register('plenty-token-product-detail', {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            product: null,\n            isLoading: false,\n            isSaveSuccessful: false,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        productRepository() {\n            return this.repositoryFactory.create('plenty_token_product');\n        },\n\n        ...mapPropertyErrors('product', [\n            'name',\n            'tokenPrice',\n        ]),\n\n        isCreateMode() {\n            return this.$route.name === 'plenty.token.market.product-create';\n        },\n    },\n\n    created() {\n        this.loadEntityData();\n    },\n\n    methods: {\n        loadEntityData() {\n            this.isLoading = true;\n\n            if (this.isCreateMode) {\n                this.product = this.productRepository.create();\n                this.product.active = true;\n                this.product.stock = 0;\n                this.isLoading = false;\n                return;\n            }\n\n            const criteria = new Criteria();\n\n            this.productRepository.get(this.$route.params.id, Shopware.Context.api, criteria)\n                .then((entity) => {\n                    this.product = entity;\n                    this.isLoading = false;\n                });\n        },\n\n        onSave() {\n            this.isLoading = true;\n\n            return this.productRepository.save(this.product, Shopware.Context.api)\n                .then(() => {\n                    this.isLoading = false;\n                    this.isSaveSuccessful = true;\n                    this.$router.push({ name: 'plenty.token.market.product-detail', params: { id: this.product.id } });\n                })\n                .catch(() => {\n                    this.isLoading = false;\n                    this.createNotificationError({\n                        message: this.$tc('plenty-token-market.productDetail.errorMessage'),\n                    });\n                });\n        },\n\n        onCancel() {\n            this.$router.push({ name: 'plenty.token.market.product-list' });\n        },\n    },\n});\n","<sw-page class=\"plenty-token-order-list\">\n    <template #smart-bar-header>\n        <h2>{{ $tc('plenty-token-market.orderList.textTitle') }}</h2>\n    </template>\n\n    <template #content>\n        <sw-entity-listing\n            :repository=\"orderRepository\"\n            :items=\"orders\"\n            :columns=\"columns\"\n            :isLoading=\"isLoading\"\n            @update-records=\"getList\">\n        </sw-entity-listing>\n    </template>\n</sw-page>\n","import template from './plenty-token-order-list.html.twig';\n\nconst { Component, Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\nComponent.register('plenty-token-order-list', {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('listing'),\n    ],\n\n    data() {\n        return {\n            orders: null,\n            isLoading: false,\n            total: 0,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        orderRepository() {\n            return this.repositoryFactory.create('plenty_token_order');\n        },\n\n        columns() {\n            return [\n                {\n                    property: 'createdAt',\n                    dataIndex: 'createdAt',\n                    label: this.$tc('plenty-token-market.orderList.columnDate'),\n                    allowResize: true,\n                    primary: true,\n                },\n                {\n                    property: 'customer.firstName',\n                    dataIndex: 'customer.firstName,customer.lastName',\n                    label: this.$tc('plenty-token-market.orderList.columnCustomer'),\n                    allowResize: true,\n                },\n                {\n                    property: 'tokenProduct.name',\n                    dataIndex: 'tokenProduct.name',\n                    label: this.$tc('plenty-token-market.orderList.columnProduct'),\n                    allowResize: true,\n                },\n                {\n                    property: 'tokenAmount',\n                    dataIndex: 'tokenAmount',\n                    label: this.$tc('plenty-token-market.orderList.columnTokenAmount'),\n                    allowResize: true,\n                },\n                {\n                    property: 'status',\n                    dataIndex: 'status',\n                    label: this.$tc('plenty-token-market.orderList.columnStatus'),\n                    inlineEdit: 'string',\n                    allowResize: true,\n                },\n            ];\n        },\n    },\n\n    created() {\n        this.getList();\n    },\n\n    methods: {\n        getList() {\n            this.isLoading = true;\n\n            const criteria = new Criteria(this.page, this.limit);\n            criteria.addSorting(Criteria.sort('createdAt', 'DESC'));\n            criteria.addAssociation('customer');\n            criteria.addAssociation('tokenProduct');\n\n            return this.orderRepository.search(criteria, Shopware.Context.api).then((result) => {\n                this.orders = result;\n                this.total = result.total;\n                this.isLoading = false;\n            });\n        },\n\n        onChangeLanguage() {\n            this.getList();\n        },\n    },\n});\n","import './page/plenty-token-product-list';\nimport './page/plenty-token-product-detail';\nimport './page/plenty-token-order-list';\n\nconst { Module } = Shopware;\n\nModule.register('plenty-token-market', {\n    type: 'plugin',\n    name: 'plenty-token-market',\n    title: 'plenty-token-market.general.mainMenuItemGeneral',\n    description: 'Manage Token Market products and orders',\n    color: '#ffa500',\n\n    routes: {\n        'product-list': {\n            component: 'plenty-token-product-list',\n            path: 'products',\n            meta: {\n                parentPath: 'sw.settings.index',\n            },\n        },\n        'product-detail': {\n            component: 'plenty-token-product-detail',\n            path: 'product/detail/:id',\n            meta: {\n                parentPath: 'plenty.token.market.product-list',\n            },\n        },\n        'product-create': {\n            component: 'plenty-token-product-detail',\n            path: 'product/create',\n            meta: {\n                parentPath: 'plenty.token.market.product-list',\n            },\n        },\n        'order-list': {\n            component: 'plenty-token-order-list',\n            path: 'orders',\n            meta: {\n                parentPath: 'sw.settings.index',\n            },\n        },\n    },\n\n    settingsItem: [\n        {\n            group: 'plugins',\n            to: 'plenty.token.market.product-list',\n            icon: 'default-package-gift',\n            label: 'plenty-token-market.general.mainMenuItemProducts',\n        },\n        {\n            group: 'plugins',\n            to: 'plenty.token.market.order-list',\n            icon: 'default-shopping-basket',\n            label: 'plenty-token-market.general.mainMenuItemOrders',\n        },\n    ],\n});\n"],"names":["template$5","Component","template","_a","_b","_c","_d","e","Module","template$4","Mixin","Criteria","criteria","result","error","template$3","mapPropertyErrors","entity","template$2","template$1"],"mappings":"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"}