{"version":3,"file":"plenty-connector-plugin-DDtYWPee.js","sources":["../../../app/administration/src/module/plenty-connector-utility/page/plenty-connector-utility-index/plenty-connector-utility-index.html.twig","../../../app/administration/src/module/plenty-connector-utility/page/plenty-connector-utility-index/index.js","../../../app/administration/src/module/plenty-connector-utility/index.js"],"sourcesContent":["<sw-page class=\"plenty-utility-page\">\n    <template #smart-bar-header>\n        <h2>{{ $tc('plenty-connector-utility.general.headline') }}</h2>\n    </template>\n\n    <template #content>\n        <div class=\"plenty-utility-card\">\n            <sw-card :title=\"$tc('plenty-connector-utility.cards.actions')\">\n                <div class=\"plenty-utility-actions\">\n                    <sw-button :loading=\"isClearing\"\n                               variant=\"primary\"\n                               @click=\"clearCache\">\n                        {{ $tc('plenty-connector-utility.buttons.clearCache') }}\n                    </sw-button>\n\n                    <sw-button :loading=\"isSyncing\"\n                               variant=\"ghost\"\n                               @click=\"syncProducts\">\n                        {{ $tc('plenty-connector-utility.buttons.syncProducts') }}\n                    </sw-button>\n                </div>\n                <div v-if=\"lastMessage\" class=\"plenty-utility-message\">\n                    {{ lastMessage }}\n                </div>\n            </sw-card>\n        </div>\n    </template>\n</sw-page>\n","import template from './plenty-connector-utility-index.html.twig';\n\nconst { Component } = Shopware;\n\nComponent.register('plenty-connector-utility-index', {\n    template,\n\n    data() {\n        return {\n            isClearing: false,\n            isSyncing: false,\n            lastMessage: null,\n        };\n    },\n\n    methods: {\n        async clearCache() {\n            this.isClearing = true;\n            this.lastMessage = null;\n            try {\n                await this.$http.post('/_action/plenty/cache-clear');\n                this.lastMessage = this.$tc('plenty-connector-utility.messages.cacheCleared');\n            } catch (e) {\n                this.lastMessage = this.$tc('plenty-connector-utility.messages.cacheFailed');\n            } finally {\n                this.isClearing = false;\n            }\n        },\n\n        async syncProducts() {\n            this.isSyncing = true;\n            this.lastMessage = null;\n            try {\n                await this.$http.post('/_action/plenty/sync-products');\n                this.lastMessage = this.$tc('plenty-connector-utility.messages.syncTriggered');\n            } catch (e) {\n                this.lastMessage = this.$tc('plenty-connector-utility.messages.syncFailed');\n            } finally {\n                this.isSyncing = false;\n            }\n        },\n    },\n});\n","import './page/plenty-connector-utility-index';\n\nconst { Module } = Shopware;\n\nModule.register('plenty-connector-utility', {\n    type: 'plugin',\n    name: 'plenty-connector-utility',\n    title: 'plenty-connector-utility.general.mainMenuItemGeneral',\n    description: 'Utility actions for Plentymarkets connector',\n    color: '#0e71ba',\n    icon: 'default-object-marketing',\n\n    routes: {\n        index: {\n            component: 'plenty-connector-utility-index',\n            path: 'index',\n            meta: {\n                parentPath: 'sw.settings.index',\n            },\n        },\n    },\n\n    settingsItem: [\n        {\n            group: 'plugins',\n            to: 'plenty.connector.utility.index',\n            icon: 'default-object-gear',\n            label: 'plenty-connector-utility.general.mainMenuItemGeneral',\n        },\n    ],\n});\n"],"names":["template","Component","Module"],"mappings":"AAAA,MAAAA,EAAe,2sBCET,CAAE,UAAAC,CAAS,EAAK,SAEtBA,EAAU,SAAS,iCAAkC,CACjD,SAAAD,EAEA,MAAO,CACH,MAAO,CACH,WAAY,GACZ,UAAW,GACX,YAAa,IACzB,CACA,EAEI,QAAS,CACL,MAAM,YAAa,CACf,KAAK,WAAa,GAClB,KAAK,YAAc,KACnB,GAAI,CACA,MAAM,KAAK,MAAM,KAAK,6BAA6B,EACnD,KAAK,YAAc,KAAK,IAAI,gDAAgD,CAC5F,MAAwB,CACR,KAAK,YAAc,KAAK,IAAI,+CAA+C,CAC3F,QAAa,CACG,KAAK,WAAa,EAClC,CACA,EAEQ,MAAM,cAAe,CACjB,KAAK,UAAY,GACjB,KAAK,YAAc,KACnB,GAAI,CACA,MAAM,KAAK,MAAM,KAAK,+BAA+B,EACrD,KAAK,YAAc,KAAK,IAAI,iDAAiD,CAC7F,MAAwB,CACR,KAAK,YAAc,KAAK,IAAI,8CAA8C,CAC1F,QAAa,CACG,KAAK,UAAY,EACjC,CACA,CACA,CACA,CAAC,ECxCD,KAAM,CAAE,OAAAE,CAAM,EAAK,SAEnBA,EAAO,SAAS,2BAA4B,CACxC,KAAM,SACN,KAAM,2BACN,MAAO,uDACP,YAAa,8CACb,MAAO,UACP,KAAM,2BAEN,OAAQ,CACJ,MAAO,CACH,UAAW,iCACX,KAAM,QACN,KAAM,CACF,WAAY,mBAC5B,CACA,CACA,EAEI,aAAc,CACV,CACI,MAAO,UACP,GAAI,iCACJ,KAAM,sBACN,MAAO,sDACnB,CACA,CACA,CAAC"}