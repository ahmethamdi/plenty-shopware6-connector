const a=`<sw-page class="plenty-utility-page"> <template #smart-bar-header> <h2>{{ $tc('plenty-connector-utility.general.headline') }}</h2> </template> <template #content> <div class="plenty-utility-card"> <sw-card :title="$tc('plenty-connector-utility.cards.actions')"> <div class="plenty-utility-actions"> <sw-button :loading="isClearing" variant="primary" @click="clearCache"> {{ $tc('plenty-connector-utility.buttons.clearCache') }} </sw-button> <sw-button :loading="isSyncing" variant="ghost" @click="syncProducts"> {{ $tc('plenty-connector-utility.buttons.syncProducts') }} </sw-button> </div> <div v-if="lastMessage" class="plenty-utility-message"> {{ lastMessage }} </div> </sw-card> </div> </template> </sw-page>`,{Component:l}=Shopware;l.register("plenty-connector-utility-index",{template:a,data(){return{isClearing:!1,isSyncing:!1,lastMessage:null}},methods:{async clearCache(){var e,n,s,i;this.isClearing=!0,this.lastMessage=null;try{await this.$http.post("/api/_action/plenty/cache-clear"),this.lastMessage=this.$tc("plenty-connector-utility.messages.cacheCleared")}catch(t){this.lastMessage=((i=(s=(n=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:n.errors)==null?void 0:s[0])==null?void 0:i.detail)||this.$tc("plenty-connector-utility.messages.cacheFailed")}finally{this.isClearing=!1}},async syncProducts(){var e,n,s,i;this.isSyncing=!0,this.lastMessage=null;try{await this.$http.post("/api/_action/plenty/sync-products"),this.lastMessage=this.$tc("plenty-connector-utility.messages.syncTriggered")}catch(t){this.lastMessage=((i=(s=(n=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:n.errors)==null?void 0:s[0])==null?void 0:i.detail)||this.$tc("plenty-connector-utility.messages.syncFailed")}finally{this.isSyncing=!1}}}});const{Module:c}=Shopware;c.register("plenty-connector-utility",{type:"plugin",name:"plenty-connector-utility",title:"plenty-connector-utility.general.mainMenuItemGeneral",description:"Utility actions for Plentymarkets connector",color:"#0e71ba",icon:"default-object-marketing",routes:{index:{component:"plenty-connector-utility-index",path:"index",meta:{parentPath:"sw.settings.index"}}},settingsItem:[{group:"plugins",to:"plenty.connector.utility.index",icon:"default-object-gear",label:"plenty-connector-utility.general.mainMenuItemGeneral"}]});
//# sourceMappingURL=plenty-connector-plugin-BxWj1f-j.js.map
